{
  "hash": "5a1d5a28cc4b28163769d95d13c497b8",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Introduction to ggplot2 Graphics\"\ndescription: \"Learn how to create beautiful visualizations using the ggplot2 package in R\"\ndate: \"2025-03-30\"\ncategories: [visualization, tidyverse]\nimage: \"https://raw.githubusercontent.com/rstudio/hex-stickers/master/PNG/ggplot2.png\"\nexecute:\n  echo: true\n  warning: false\n  message: false\n---\n\n\n\n\n## Introduction to ggplot2 Graphics\n\nThe `ggplot2` package, part of the tidyverse, implements the Grammar of Graphics to create elegant and complex plots with a consistent syntax. It's one of the most popular visualization packages in R.\n\n### Getting Started with ggplot2\n\nFirst, let's install and load the package:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Install if needed (uncomment to run)\n# install.packages(\"ggplot2\")\n\n# Load the package\nlibrary(ggplot2)\n\n# We'll use the built-in mtcars dataset\ndata(mtcars)\n```\n:::\n\n\n\n\n### The Grammar of Graphics\n\nggplot2 is based on the idea that you can build any plot from the same components:\n\n1.  **Data**: The dataset you want to visualize\n2.  **Aesthetics**: Mapping of variables to visual properties\n3.  **Geometries**: Visual elements representing data points\n4.  **Facets**: For creating small multiples\n5.  **Statistics**: Statistical transformations of the data\n6.  **Coordinates**: The coordinate system\n7.  **Themes**: Controlling the visual style\n\n### Basic Plot Structure\n\nEvery ggplot2 plot starts with the `ggplot()` function and builds with layers:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Basic scatter plot\nggplot(mtcars, aes(x = wt, y = mpg)) +\n  geom_point()\n```\n\n::: {.cell-output-display}\n![](ggplot2_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\n\n\n### Common Geometries (geoms)\n\n#### Scatter Plots\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Enhanced scatter plot\nggplot(mtcars, aes(x = wt, y = mpg, color = factor(cyl), size = hp)) +\n  geom_point(alpha = 0.7) +\n  labs(\n    title = \"Car Weight vs. Fuel Efficiency\",\n    subtitle = \"Colored by cylinder count, sized by horsepower\",\n    x = \"Weight (1000 lbs)\",\n    y = \"Miles Per Gallon\",\n    color = \"Cylinders\",\n    size = \"Horsepower\"\n  )\n```\n\n::: {.cell-output-display}\n![](ggplot2_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\n\n\n#### Line Plots\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Create sample time series data\ntime_data <- data.frame(\n  time = 1:20,\n  value = cumsum(rnorm(20))\n)\n\n# Line plot\nggplot(time_data, aes(x = time, y = value)) +\n  geom_line(color = \"steelblue\", size = 1) +\n  geom_point(color = \"steelblue\", size = 2) +\n  labs(title = \"Time Series Plot\", x = \"Time\", y = \"Value\")\n```\n\n::: {.cell-output-display}\n![](ggplot2_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n\n\n#### Bar Charts\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Count of cars by cylinder\nggplot(mtcars, aes(x = factor(cyl))) +\n  geom_bar(fill = \"steelblue\") +\n  labs(title = \"Count of Cars by Cylinder\", x = \"Cylinders\", y = \"Count\")\n```\n\n::: {.cell-output-display}\n![](ggplot2_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n\n```{.r .cell-code}\n# Bar chart with values\ncyl_summary <- as.data.frame(table(mtcars$cyl))\nnames(cyl_summary) <- c(\"cyl\", \"count\")\n\nggplot(cyl_summary, aes(x = cyl, y = count)) +\n  geom_col(fill = \"steelblue\") +\n  geom_text(aes(label = count), vjust = -0.5) +\n  labs(title = \"Count of Cars by Cylinder\", x = \"Cylinders\", y = \"Count\")\n```\n\n::: {.cell-output-display}\n![](ggplot2_files/figure-html/unnamed-chunk-5-2.png){width=672}\n:::\n:::\n\n\n\n\n#### Histograms and Density Plots\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Histogram\nggplot(mtcars, aes(x = mpg)) +\n  geom_histogram(bins = 10, fill = \"steelblue\", color = \"white\") +\n  labs(title = \"Distribution of Fuel Efficiency\", x = \"Miles Per Gallon\", y = \"Count\")\n```\n\n::: {.cell-output-display}\n![](ggplot2_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n\n```{.r .cell-code}\n# Density plot\nggplot(mtcars, aes(x = mpg)) +\n  geom_density(fill = \"steelblue\", alpha = 0.5) +\n  labs(title = \"Density of Fuel Efficiency\", x = \"Miles Per Gallon\", y = \"Density\")\n```\n\n::: {.cell-output-display}\n![](ggplot2_files/figure-html/unnamed-chunk-6-2.png){width=672}\n:::\n\n```{.r .cell-code}\n# Combined histogram and density\nggplot(mtcars, aes(x = mpg)) +\n  geom_histogram(aes(y = ..density..), bins = 10, fill = \"lightblue\", color = \"white\") +\n  geom_density(color = \"darkblue\", size = 1) +\n  labs(title = \"Distribution of Fuel Efficiency\", x = \"Miles Per Gallon\", y = \"Density\")\n```\n\n::: {.cell-output-display}\n![](ggplot2_files/figure-html/unnamed-chunk-6-3.png){width=672}\n:::\n:::\n\n\n\n\n#### Box Plots\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Box plot\nggplot(mtcars, aes(x = factor(cyl), y = mpg)) +\n  geom_boxplot(fill = \"lightblue\") +\n  labs(title = \"Fuel Efficiency by Cylinder Count\", x = \"Cylinders\", y = \"Miles Per Gallon\")\n```\n\n::: {.cell-output-display}\n![](ggplot2_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n\n```{.r .cell-code}\n# Box plot with points\nggplot(mtcars, aes(x = factor(cyl), y = mpg)) +\n  geom_boxplot(fill = \"lightblue\", outlier.shape = NA) +\n  geom_jitter(width = 0.2, alpha = 0.5) +\n  labs(title = \"Fuel Efficiency by Cylinder Count\", x = \"Cylinders\", y = \"Miles Per Gallon\")\n```\n\n::: {.cell-output-display}\n![](ggplot2_files/figure-html/unnamed-chunk-7-2.png){width=672}\n:::\n:::\n\n\n\n\n### Customizing Aesthetics\n\nYou can map variables to various aesthetic properties:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Multiple aesthetics\nggplot(mtcars, aes(x = wt, y = mpg, color = factor(cyl), shape = factor(am), size = hp)) +\n  geom_point(alpha = 0.7) +\n  labs(\n    title = \"Car Weight vs. Fuel Efficiency\",\n    x = \"Weight (1000 lbs)\",\n    y = \"Miles Per Gallon\",\n    color = \"Cylinders\",\n    shape = \"Transmission\",\n    size = \"Horsepower\"\n  ) +\n  scale_shape_discrete(labels = c(\"Automatic\", \"Manual\"))\n```\n\n::: {.cell-output-display}\n![](ggplot2_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\n\n\n### Faceting (Small Multiples)\n\nFaceting creates separate plots for subsets of data:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Facet by transmission type\nggplot(mtcars, aes(x = wt, y = mpg, color = factor(cyl))) +\n  geom_point() +\n  facet_wrap(~am, labeller = labeller(am = c(\"0\" = \"Automatic\", \"1\" = \"Manual\"))) +\n  labs(title = \"Weight vs. MPG by Transmission Type\", x = \"Weight\", y = \"MPG\", color = \"Cylinders\")\n```\n\n::: {.cell-output-display}\n![](ggplot2_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n\n```{.r .cell-code}\n# Facet grid with two variables\nggplot(mtcars, aes(x = wt, y = mpg)) +\n  geom_point() +\n  facet_grid(vs ~ gear, labeller = labeller(\n    vs = c(\"0\" = \"V-Engine\", \"1\" = \"Straight Engine\"),\n    gear = c(\"3\" = \"3 Gears\", \"4\" = \"4 Gears\", \"5\" = \"5 Gears\")\n  )) +\n  labs(title = \"Weight vs. MPG by Engine Type and Gear Count\")\n```\n\n::: {.cell-output-display}\n![](ggplot2_files/figure-html/unnamed-chunk-9-2.png){width=672}\n:::\n:::\n\n\n\n\n### Adding Statistics\n\nggplot2 can add statistical summaries to plots:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Scatter plot with linear regression line\nggplot(mtcars, aes(x = wt, y = mpg)) +\n  geom_point() +\n  geom_smooth(method = \"lm\", se = TRUE) +\n  labs(title = \"Weight vs. MPG with Linear Trend\", x = \"Weight\", y = \"MPG\")\n```\n\n::: {.cell-output-display}\n![](ggplot2_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n\n```{.r .cell-code}\n# Scatter plot with different smoothing methods by cylinder\nggplot(mtcars, aes(x = wt, y = mpg, color = factor(cyl))) +\n  geom_point() +\n  geom_smooth(se = FALSE) +\n  labs(title = \"Weight vs. MPG by Cylinder\", x = \"Weight\", y = \"MPG\", color = \"Cylinders\")\n```\n\n::: {.cell-output-display}\n![](ggplot2_files/figure-html/unnamed-chunk-10-2.png){width=672}\n:::\n:::\n\n\n\n\n### Coordinate Systems\n\nChange how the data is mapped to the plotting area:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Flip coordinates\nggplot(mtcars, aes(x = factor(cyl), y = mpg)) +\n  geom_boxplot(fill = \"lightblue\") +\n  coord_flip() +\n  labs(title = \"Fuel Efficiency by Cylinder Count\", x = \"Cylinders\", y = \"Miles Per Gallon\")\n```\n\n::: {.cell-output-display}\n![](ggplot2_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n\n```{.r .cell-code}\n# Polar coordinates for a pie chart\nggplot(cyl_summary, aes(x = \"\", y = count, fill = cyl)) +\n  geom_bar(stat = \"identity\", width = 1) +\n  coord_polar(\"y\", start = 0) +\n  labs(title = \"Cars by Cylinder Count\", fill = \"Cylinders\") +\n  theme_void()\n```\n\n::: {.cell-output-display}\n![](ggplot2_files/figure-html/unnamed-chunk-11-2.png){width=672}\n:::\n:::\n\n\n\n\n### Themes\n\nThemes control the non-data elements of the plot:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Default theme\np <- ggplot(mtcars, aes(x = wt, y = mpg, color = factor(cyl))) +\n  geom_point() +\n  labs(title = \"Weight vs. MPG by Cylinder Count\", x = \"Weight\", y = \"MPG\", color = \"Cylinders\")\n\n# Different built-in themes\np + theme_minimal()\n```\n\n::: {.cell-output-display}\n![](ggplot2_files/figure-html/unnamed-chunk-12-1.png){width=672}\n:::\n\n```{.r .cell-code}\np + theme_classic()\n```\n\n::: {.cell-output-display}\n![](ggplot2_files/figure-html/unnamed-chunk-12-2.png){width=672}\n:::\n\n```{.r .cell-code}\np + theme_dark()\n```\n\n::: {.cell-output-display}\n![](ggplot2_files/figure-html/unnamed-chunk-12-3.png){width=672}\n:::\n\n```{.r .cell-code}\np + theme_bw()\n```\n\n::: {.cell-output-display}\n![](ggplot2_files/figure-html/unnamed-chunk-12-4.png){width=672}\n:::\n:::\n\n\n\n\n### Custom Theme Elements\n\nYou can customize specific theme elements:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mtcars, aes(x = wt, y = mpg, color = factor(cyl))) +\n  geom_point(size = 3) +\n  labs(\n    title = \"Custom Themed Plot\",\n    subtitle = \"Weight vs. MPG by Cylinder Count\",\n    x = \"Weight (1000 lbs)\",\n    y = \"Miles Per Gallon\",\n    color = \"Cylinders\"\n  ) +\n  theme(\n    plot.title = element_text(size = 16, face = \"bold\"),\n    plot.subtitle = element_text(size = 12, color = \"gray50\"),\n    axis.title = element_text(size = 12, face = \"bold\"),\n    legend.position = \"top\",\n    legend.background = element_rect(fill = \"lightyellow\", color = \"gray\"),\n    panel.background = element_rect(fill = \"white\"),\n    panel.grid.major = element_line(color = \"gray90\"),\n    panel.grid.minor = element_line(color = \"gray95\")\n  )\n```\n\n::: {.cell-output-display}\n![](ggplot2_files/figure-html/unnamed-chunk-13-1.png){width=672}\n:::\n:::\n\n\n\n\n### Combining Multiple Plots\n\nThe `patchwork` package makes it easy to combine multiple ggplots:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Create three different plots\nif (requireNamespace(\"patchwork\", quietly = TRUE)) {\n  library(patchwork)\n  \n  p1 <- ggplot(mtcars, aes(x = wt, y = mpg)) +\n    geom_point() +\n    labs(title = \"Weight vs. MPG\")\n  \n  p2 <- ggplot(mtcars, aes(x = hp, y = mpg)) +\n    geom_point(color = \"red\") +\n    labs(title = \"Horsepower vs. MPG\")\n  \n  p3 <- ggplot(mtcars, aes(x = factor(cyl))) +\n    geom_bar(fill = \"steelblue\") +\n    labs(title = \"Count by Cylinders\")\n  \n  # Combine plots\n  p1 + p2 + p3 + plot_layout(ncol = 2)\n} else {\n  message(\"The patchwork package is not installed. Install with: install.packages('patchwork')\")\n}\n```\n\n::: {.cell-output-display}\n![](ggplot2_files/figure-html/unnamed-chunk-14-1.png){width=672}\n:::\n:::\n\n\n\n\n### Saving ggplot2 Plots\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Create a plot to save\np <- ggplot(mtcars, aes(x = wt, y = mpg, color = factor(cyl))) +\n  geom_point(size = 3) +\n  labs(title = \"Weight vs. MPG\", x = \"Weight\", y = \"MPG\", color = \"Cylinders\") +\n  theme_minimal()\n\n# Example of how to save (not run)\n# ggsave(\"my_ggplot.png\", plot = p, width = 8, height = 6, dpi = 300)\n# ggsave(\"my_ggplot.pdf\", plot = p, width = 8, height = 6)\n```\n:::\n\n\n\n\nggplot2 offers a powerful and flexible system for creating visualizations in R. Its consistent syntax and layered approach make it possible to create both simple and complex plots with the same basic structure.\n",
    "supporting": [
      "ggplot2_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}