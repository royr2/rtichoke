"0","# Create initial train/test split (80/20)"
"0","set.seed(456)"
"0","initial_split <- initial_split(data, prop = 0.8, strata = default)"
"0","train_data <- training(initial_split)"
"0","test_data <- testing(initial_split)"
"0",""
"0","# Create validation set from training data (75% train, 25% validation)"
"0","set.seed(789)"
"0","validation_split <- initial_split(train_data, prop = 0.75, strata = default)"
"0",""
"0","# Check class imbalance in training data"
"0","train_class_counts <- table(training(validation_split)$default)"
"0","train_class_props <- prop.table(train_class_counts)"
"0",""
"0","cat(""Training data class distribution:\n"")"
"1","Training data class distribution:
"
"0","print(train_class_counts)"
"1","
"
"1","  no "
"1"," yes "
"1","
"
"1","5661 "
"1"," 339 "
"1","
"
"0","cat(""\nPercentage:\n"")"
"1","
Percentage:
"
"0","print(train_class_props * 100)"
"1","
"
"1","   no "
"1","  yes "
"1","
"
"1","94.35 "
"1"," 5.65 "
"1","
"
"0","# Visualize class imbalance"
"0","ROSE::roc.curve(training(validation_split)$default == ""yes"", "
"0","                training(validation_split)$credit_score,"
"0","                plotit = TRUE,                main = ""ROC Curve for Credit Score Alone"")"
"1","Area under the curve (AUC): 0.753
"
