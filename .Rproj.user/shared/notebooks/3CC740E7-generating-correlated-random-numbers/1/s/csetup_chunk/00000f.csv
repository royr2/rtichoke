"0","#| label: setup"
"0",""
"0","# 1. Define your target correlation matrix"
"0","cor_mat <- matrix(c(1, 0.3, "
"0","                   0.3, 1), nrow = 2, byrow = TRUE)"
"0",""
"0","# 2. Apply Cholesky decomposition"
"0","chol_mat <- chol(cor_mat)"
"0",""
"0","# 3. Generate uncorrelated random numbers"
"0","old_random <- matrix(rnorm(2000), ncol = 2)"
"0",""
"0","# 4. Transform to create correlation"
"0","new_random <- old_random %*% chol_mat"
"0",""
"0","# Verify the correlation"
"0","cor(new_random)"
"1","    "
"1","      [,1]"
"1","      [,2]"
"1","
[1,]"
"1"," 1.0000000"
"1"," 0.2936851"
"1","
[2,]"
"1"," 0.2936851"
"1"," 1.0000000"
"1","
"
